.is-invalid ~ .invalid-feedback,
.is-invalid ~ .invalid-tooltip {
  align-items: center;
  display: flex;
}

.form-control.is-invalid,
.form-control.is-invalid + .input-group-text {
  background-color: rgba($red-500, .1) !important;
  border-color: $red-500;
  color: $red-500;
}

.form-control.is-invalid + .select2-container .select2-selection--single {
  background-color: rgba($red-500, .1);
  border-color: $red-500;

  .select2-selection__rendered,
  .select2-selection__placeholder {
    color: $red-500;
  }

  .select2-selection__arrow b {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAOCAYAAADE84fzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADwSURBVHgBnZNBDsFAFIb/93ADJHZughtwApwAi3aLnVQkbqBOoEdwlO4kwsIBpmNG2mjodKb9VzMv874veTNDt+Wy32y1TiAaEhADWLWDIELFPD1vIYk2ei2BYycItvTw/YvajPMHlWSmBGdnsO+vE2CTr0kp5/wLTs2hkk5RE/wJ84DTUaCOwAjWSZIXQ4iVqblMUAZWfbFoNI7cPhwiPR9UEFjBzKPebhdTVrx73oyITjAku2RXcNrzjYMgKnoAReA/uIvAFVwIryowgY1wV0EZuBRuE9jAVrhJ4ALWYVjS3e9DEmIis58s5dUFrPMGeMWam/Kd6X0AAAAASUVORK5CYII=');
  }
}

.invalid-feedback {
  margin-top: 1rem;

  + .invalid-feedback { margin-top: .5rem; }
}

.input-group-select .form-control {
  border-right: 0;
}

.input-group:not(.input-group-reverse):not(.input-group-search) {
  .form-control {
    border-right: 0;
  }
  
  .input-group-text {
    background: $white;
    border-radius: 0 6px 6px 0 !important;
    margin-left: 0 !important;

    + .select2-container {
      left: auto !important;
      margin-top: 10px;
      right: 0 !important;
    }
  }
}

.input-group-reverse:not(.input-group-search) {
  flex-direction: row-reverse;

  .form-control {
    border-left: 0;
    border-radius: 0 6px 6px 0 !important;

    &:focus {
      + .input-group-text {
        border-color: $gray-300 !important;
      }
    }
  }

  .input-group-text {
    background: $white;
    border-radius: 6px 0 0 6px !important;
    border-left: 1px solid $gray-200 !important;
    border-right: 0;
    padding: 0.375rem 1.5rem;
  }
}

.input-group-text {
  align-items: center;
  background: $white;
  border: 1px solid $gray-200;
  display: flex;
  padding-right: 1.5rem;
  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;

  .select2-container {
    width: auto !important;

    .select2-selection--single {
      background-color: $purple-500;
      border: 0;
      border-radius: 4px;
      height: 3rem;
      outline: none;

      .select2-selection__rendered {
        color: $white;
        font-size: 1.2rem;
        font-weight: 700;
        padding: 0 2.4rem 0 1rem;
        line-height: 3rem;
        text-transform: uppercase;
      }

      .select2-selection__arrow {
        width: 2.4rem;

        b {
          height: 10px;
          width: 10px;
        }
      }
    }
  }
}

// https://codepen.io/GeoffreyCrofte/pen/HbwcG
.input-group-file {
  position: relative;

  .form-file-trigger {
    @extend .btn;
    @extend .btn-md;

    align-items: center;
    cursor: pointer;
    display: flex;
    font-size: 1.2rem;

    @include media-breakpoint-up(sm) {
      min-width: 22.5rem;
    }

    &:not(.form-file-trigger-primary) {
      @extend .btn-primary-bordered;
    }

    &-primary {
      @extend .btn-primary;
    }

    .icon {
      font-size: 2rem;
      flex: 0 0 auto;
      margin-right: 1rem;
      transition: none;
    }
  }

  .form-file {
    cursor: pointer;
    height: 0;
    left: 0;
    opacity: 0;
    position: absolute;
    top: 0;
  }
}

.input-group-search {
  display: block;
  width: auto;
  
  .input-group-text {
    align-items: center;
    background-color: #F0F2F5;
    border: 0;
    border-radius: 50% !important;
    color: #2F3033;
    display: inline-flex;
    font-size: 1.4rem;
    font-weight: 400;
    height: 3rem;
    justify-content: center;
    left: .5rem;
    line-height: 1;
    padding: 0;
    position: absolute;
    top: .5rem;
    transition: background-color .1s ease-in-out;
    width: 3rem;
    z-index: 4;

    &:hover {
      background-color: darken(#F0F2F5, 5%);
    }
  }

  .form-control {
    border: 0;
    border-radius: 2rem !important;
    color: #666666;
    font-size: 1.2rem;
    height: 4rem;
    padding-left: 5rem;
    width: 22.5rem;
  }
}

.input-group-password {
  .input-group-text {
    padding-right: 2rem;
  }
}

.input-group-search-materialize {
  .input-group-text {
    background-color: transparent !important;
    border-radius: 0 !important;
  }

  .form-control {
    border-bottom: 1px solid $gray-100;
    border-radius: 0 !important;
    padding: 1rem 2rem 2rem 4rem;
    height: auto;
    min-height: 4rem;
    width: 100%;
  }
}